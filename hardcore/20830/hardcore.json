from bs import *
try: from .advanced import Settings
except: pass
try: from .zeroGame import ZeroGameFactory
except: pass
try: from .bombs import BombFactory as HardCoreBombFactory
except: pass
try: from .powerups import PowerupFactory as HardCorePowerupFactory
except: pass
try: from .utils import get_tint, get_normal_tint, get_motion, set_motion, set_tint, get_account_string
except: pass
from os.path import sep, exists
from json import load as load_json

env = getEnvironment()
path = None
for p in [env['systemScriptsDirectory'], env['userScriptsDirectory']]:
    p += sep + 'hardcoreModpack.data'
    if exists(p):
        try: data = json.load(open(p, 'r'))
        except: continue
        else: path = data.get("path", None)
        if path is not None: break
del env

def get_version(numeric=True):
    if not exists(path): return None
    try: data = load_json(open(path, 'r'))
    except: data = {}
    return int(data.get("version", 0)) if numeric else data.get("version_str", "0")
    
version = get_version(True)
